/*! For license information please see main.bundle.js.LICENSE.txt */
(()=>{"use strict";var t={351:(t,e,n)=>{function r(){var t=Number(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)||0,e=.045*Math.log(t/1e3+1),n=0;t>2e3&&(n+=(t-2e3)/12e4),t>4e3&&(n+=(t-4e3)/11e4),t>6e3&&(n+=(t-6e3)/1e5);var r=Math.exp(-t/3e4);return{total:1+1.15*(e+n)*r,components:{base:e,progressive:n,spin:Math.min(t/12e4,.065),density:r,empirical:1.15}}}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(){i=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},c="function"==typeof Symbol?Symbol:{},s=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",u=c.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var o=e&&e.prototype instanceof w?e:w,i=Object.create(o.prototype),c=new P(r||[]);return a(i,"_invoke",{value:L(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var p="suspendedStart",m="suspendedYield",v="executing",y="completed",g={};function w(){}function E(){}function b(){}var x={};d(x,s,(function(){return this}));var I=Object.getPrototypeOf,S=I&&I(I(T([])));S&&S!==n&&r.call(S,s)&&(x=S);var D=b.prototype=w.prototype=Object.create(x);function C(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function W(t,e){function n(i,a,c,s){var l=f(t[i],t,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==o(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,c,s)}),(function(t){n("throw",t,c,s)})):e.resolve(d).then((function(t){u.value=t,c(u)}),(function(t){return n("throw",t,c,s)}))}s(l.arg)}var i;a(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function L(e,n,r){var o=p;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var s=M(c,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?y:m,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function M(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,M(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(o(e)+" is not iterable")}return E.prototype=b,a(D,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:E,configurable:!0}),E.displayName=d(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===E||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,d(t,u,"GeneratorFunction")),t.prototype=Object.create(D),t},e.awrap=function(t){return{__await:t}},C(W.prototype),d(W.prototype,l,(function(){return this})),e.AsyncIterator=W,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new W(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(D),d(D,u,"Generator"),d(D,s,(function(){return this})),d(D,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function a(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t){if("object"!=o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}n.d(e,{A:()=>u}),console.log("Running Core Calculation Tests...\n"),console.log("=== Wind Effect Tests ==="),[{speed:10,dir:"N",desc:"10mph headwind"},{speed:10,dir:"S",desc:"10mph tailwind"},{speed:15,dir:"E",desc:"15mph crosswind"}].forEach((function(t){var e=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"medium",r=Math.abs(Number(t)||0),o={low:.65,medium:1,high:1.35}[n]||1;"low"===n&&r>10&&(o*=1-.015*(r-10));var i=function(t){return{N:0,NNE:22.5,NE:45,ENE:67.5,E:90,ESE:112.5,SE:135,SSE:157.5,S:180,SSW:202.5,SW:225,WSW:247.5,W:270,WNW:292.5,NW:315,NNW:337.5}[t]||0}(e),a=Math.cos(i*Math.PI/180)*r,c=Math.sin(i*Math.PI/180)*r,s=Math.pow(Math.abs(a),.92),l=Math.pow(Math.abs(c),.92),u=1,d=1;return Math.abs(a)>10&&(u=1+.02*(Math.abs(a)-10)),Math.abs(c)>10&&(d=1+.015*(Math.abs(c)-10)),{distanceEffect:-Math.sign(a)*s*.0078*o*u,lateralEffect:Math.sign(c)*l*.0052*o*d}}(t.speed,t.dir);console.log("\n".concat(t.desc,":")),console.log("Distance Effect: ".concat((100*e.distanceEffect).toFixed(1),"%")),console.log("Lateral Effect: ".concat((100*e.lateralEffect).toFixed(1),"%"))})),console.log("\n=== Altitude Effect Tests ==="),[{alt:0,desc:"Sea Level"},{alt:5280,desc:"Denver"},{alt:7350,desc:"Mexico City"}].forEach((function(t){var e=r(t.alt);console.log("\n".concat(t.desc," (").concat(t.alt,"ft):")),console.log("Total Effect: ".concat((100*(e.total-1)).toFixed(1),"%")),console.log("Components:",e.components)})),console.log("\n=== Air Density Tests ==="),[{temp:59,pressure:29.92,humidity:50,desc:"Standard Conditions"},{temp:90,pressure:29.92,humidity:80,desc:"Hot & Humid"},{temp:30,pressure:29.92,humidity:20,desc:"Cold & Dry"}].forEach((function(t){var e,n,r,o,i=(n=((e=t).temp||59)+459.67,r=59+459.67,o=Math.pow((e.pressure||29.92)/29.92,.45)*Math.pow(r/n,.5)*(1-((e.humidity||50)-50)/100*.008),Math.pow(o,1));console.log("\n".concat(t.desc,":")),console.log("Density Ratio: ".concat(i.toFixed(3)))}));var l=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),console.log("Initializing WindCalculator..."),this.initializeElements(),this.setupChart(),this.setupEventListeners(),this.fetchWeatherData()},e=[{key:"initializeElements",value:function(){console.log("Initializing elements..."),this.windSpeedInput=document.getElementById("wind-speed"),this.windAngleInput=document.getElementById("wind-angle"),this.shotDistanceInput=document.getElementById("shot-distance"),this.shotHeightInput=document.getElementById("shot-height"),this.shotDirectionInput=document.getElementById("shot-direction"),this.windSpeedDisplay=document.getElementById("current-wind-speed"),this.windDirectionDisplay=document.getElementById("current-wind-direction"),this.lastUpdatedDisplay=document.getElementById("last-updated"),this.adjustedDistanceDisplay=document.getElementById("adjusted-distance"),this.distanceEffectDisplay=document.getElementById("distance-effect"),this.tempEffectDisplay=document.getElementById("temp-effect"),this.lateralEffectDisplay=document.getElementById("lateral-effect"),this.canvas=document.getElementById("shot-chart"),this.canvas?(this.ctx=this.canvas.getContext("2d"),console.log("Elements initialized:",{windSpeedInput:!!this.windSpeedInput,windAngleInput:!!this.windAngleInput,shotDistanceInput:!!this.shotDistanceInput,shotHeightInput:!!this.shotHeightInput,shotDirectionInput:!!this.shotDirectionInput,canvas:!!this.canvas})):console.error("Shot chart canvas not found")}},{key:"setupChart",value:function(){this.ctx?(this.canvas.width=400,this.canvas.height=400,this.drawChart()):console.error("Chart context not available")}},{key:"setupEventListeners",value:function(){var t=this;console.log("Setting up event listeners..."),[this.windSpeedInput,this.windAngleInput,this.shotDistanceInput,this.shotHeightInput,this.shotDirectionInput].forEach((function(e,n){e?e.addEventListener("input",(function(){console.log("Input changed: ".concat(e.id)),t.handleWindChange()})):console.error("Input element at index ".concat(n," not found"))}));var e=document.getElementById("refresh-weather");e?e.addEventListener("click",(function(){console.log("Refresh button clicked"),t.fetchWeatherData()})):console.error("Refresh button not found")}},{key:"drawChart",value:function(){if(this.ctx){if(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.beginPath(),this.ctx.arc(200,200,180,0,2*Math.PI),this.ctx.strokeStyle="#ccc",this.ctx.stroke(),this.drawCompassPoint("N",200,20),this.drawCompassPoint("E",380,200),this.drawCompassPoint("S",200,380),this.drawCompassPoint("W",20,200),this.windSpeedInput&&this.windAngleInput){var t=parseFloat(this.windSpeedInput.value)||0,e=parseFloat(this.windAngleInput.value)||0;this.drawWindVector(t,e)}if(this.shotDistanceInput&&this.shotDirectionInput){var n=parseFloat(this.shotDistanceInput.value)||0,r=parseFloat(this.shotDirectionInput.value)||0;this.drawShotVector(n,r)}}}},{key:"drawCompassPoint",value:function(t,e,n){this.ctx&&(this.ctx.font="14px Arial",this.ctx.fillStyle="#666",this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillText(t,e,n))}},{key:"drawWindVector",value:function(t,e){if(this.ctx){console.log("Drawing wind vector:",{speed:t,angle:e});var n=(e-90)*(Math.PI/180),r=Math.min(5*t,150),o=200+r*Math.cos(n),i=200+r*Math.sin(n);this.ctx.beginPath(),this.ctx.moveTo(200,200),this.ctx.lineTo(o,i),this.ctx.strokeStyle="blue",this.ctx.lineWidth=2,this.ctx.stroke();var a=n-Math.PI/6,c=n+Math.PI/6;this.ctx.beginPath(),this.ctx.moveTo(o,i),this.ctx.lineTo(o-10*Math.cos(a),i-10*Math.sin(a)),this.ctx.moveTo(o,i),this.ctx.lineTo(o-10*Math.cos(c),i-10*Math.sin(c)),this.ctx.stroke()}}},{key:"drawShotVector",value:function(t,e){if(this.ctx){console.log("Drawing shot vector:",{distance:t,direction:e});var n=(e-90)*(Math.PI/180),r=Math.min(t/2,150),o=200+r*Math.cos(n),i=200+r*Math.sin(n);this.ctx.beginPath(),this.ctx.moveTo(200,200),this.ctx.lineTo(o,i),this.ctx.strokeStyle="red",this.ctx.lineWidth=2,this.ctx.stroke();var a=n-Math.PI/6,c=n+Math.PI/6;this.ctx.beginPath(),this.ctx.moveTo(o,i),this.ctx.lineTo(o-10*Math.cos(a),i-10*Math.sin(a)),this.ctx.moveTo(o,i),this.ctx.lineTo(o-10*Math.cos(c),i-10*Math.sin(c)),this.ctx.stroke()}}},{key:"updateShotPath",value:function(){var t,e,n,o,i,a,c,s,l;if(console.log("Updating shot path..."),this.ctx){var u=parseFloat(null===(t=this.windSpeedInput)||void 0===t?void 0:t.value)||0,d=parseFloat(null===(e=this.windAngleInput)||void 0===e?void 0:e.value)||0,h=parseFloat(null===(n=this.shotDistanceInput)||void 0===n?void 0:n.value)||0,f=parseFloat(null===(o=this.shotHeightInput)||void 0===o?void 0:o.value)||0,p=parseFloat(null===(i=this.shotDirectionInput)||void 0===i?void 0:i.value)||0;console.log("Input values:",{windSpeed:u,windDirection:d,shotDistance:h,shotHeight:f,shotDirection:p});var m=this.getCachedWeather(),v=(null==m||null===(a=m.values)||void 0===a?void 0:a.temperature)||70,y=(null==m||null===(c=m.values)||void 0===c?void 0:c.pressureSeaLevel)||29.92,g=(null==m||null===(s=m.values)||void 0===s?void 0:s.humidity)||0,w=(null==m||null===(l=m.values)||void 0===l?void 0:l.altitude)||0,E=function(t,e,n){if("number"!=typeof t||isNaN(t))throw console.error("Invalid wind speed:",t),new Error("Wind speed must be a valid number");if("number"!=typeof e||isNaN(e))throw console.error("Invalid wind direction:",e),new Error("Wind direction must be a valid number");if(e<0||e>360)throw console.error("Wind direction out of range:",e),new Error("Wind direction must be between 0 and 360 degrees");if("number"!=typeof n||isNaN(n))throw console.error("Invalid shot height:",n),new Error("Shot height must be a valid number");if(t<0)throw console.error("Negative wind speed:",t),new Error("Wind speed must be non-negative");if(t>50)throw console.error("Wind speed too high:",t),new Error("Wind speed must not exceed 50 mph");if(n<=0)throw console.error("Invalid shot height:",n),new Error("Shot height must be non-negative");if(0===t)return console.log("Zero wind speed - no effect"),{distance:0,lateral:0};var r,o=e*Math.PI/180,i=-Math.cos(o),a=-Math.sin(o),c=1+n/100*.5;r=i>0?-i*t*.01*c:-i*t*.006*c;var s=a*t*.004*c,l=Number(Math.max(Math.min(r,.3),-.3).toFixed(6))||0,u=Number(Math.max(Math.min(s,.3),-.3).toFixed(6))||0;return console.log("Wind calculation results:",{windSpeed:t,windDirection:e,shotHeight:n,headwindComponent:i,crosswindComponent:a,heightFactor:c,distanceEffect:l,lateralEffect:u}),{distance:l,lateral:u}}(u,d,h),b=function(t,e,n){if("number"!=typeof t||isNaN(t))throw console.error("Invalid temperature value:",t),new Error("Temperature must be a valid number");if("number"!=typeof e||isNaN(e))throw console.error("Invalid pressure value:",e),new Error("Pressure must be a valid number");if("number"!=typeof n||isNaN(n))throw console.error("Invalid humidity value:",n),new Error("Humidity must be a valid number");if(t<-40||t>120)throw console.error("Temperature out of range:",t),new Error("Temperature must be between -40°F and 120°F");if(e<25||e>32)throw console.error("Pressure out of range:",e),new Error("Pressure must be between 25 and 32 inHg");if(n<0||n>100)throw console.error("Humidity out of range:",n),new Error("Humidity must be between 0% and 100%");if(59===t&&29.92===e&&0===n)return console.log("Standard conditions detected - returning 1.0"),1;var r=5/9*(t-32),o=6.11*Math.exp(17.27*r/(237.3+r))*(n/100),i=6.11*Math.exp(259.05/252.3)*0,a=33.8639*e,c=a-o,s=(28.964*c+18.016*o)/(8314.32*(r+273.15)),l=(28.964*(29.92*33.8639-i)+18.016*i)/(8314.32*288.15);return console.log("Air density calculation results:",{temperature:t,pressure:e,humidity:n,tempC:r,vaporPressure:o,pressureHPa:a,dryPressure:c,density:s,standardDensity:l,relativeDensity:s/l}),Number((s/l).toFixed(6))}(v,y,g),x=r(w),I=E.distance*h,S=E.lateral*h,D=(b-1)*h,C=(x.total-1)*h,W=Math.round(h+I+D+C);if(this.adjustedDistanceDisplay&&(this.adjustedDistanceDisplay.textContent="".concat(W," yards")),this.distanceEffectDisplay&&(this.distanceEffectDisplay.textContent="".concat(Math.round(I)," yards")),this.tempEffectDisplay&&(this.tempEffectDisplay.textContent="".concat(Math.round(D+C)," yards")),this.lateralEffectDisplay){var L=S>0?"right":"left";this.lateralEffectDisplay.textContent="".concat(Math.round(S)," yards ").concat(L)}this.drawChart()}else console.error("Chart not initialized")}},{key:"fetchWeatherData",value:(n=i().mark((function t(){var e,n,r,o,a,c,s,l,u,d;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,console.log("Fetching weather data..."),!(e=localStorage.getItem("weatherData"))){t.next=18;break}if(n=JSON.parse(e),(new Date).getTime()-n.timestamp>n.expiresIn){t.next=18;break}return console.log("Using cached weather data for wind calculations"),r=n.data,this.windSpeedInput&&(this.windSpeedInput.value=Math.round(r.values.windSpeed)),this.windAngleInput&&(this.windAngleInput.value=r.values.windDirection),this.windSpeedDisplay&&(this.windSpeedDisplay.textContent="".concat(Math.round(r.values.windSpeed)," mph")),this.windDirectionDisplay&&(this.windDirectionDisplay.textContent=this.getDirectionLabel(r.values.windDirection)),this.lastUpdatedDisplay&&(this.lastUpdatedDisplay.textContent="Updated: ".concat(new Date(n.timestamp).toLocaleTimeString())),this.currentTemperature=r.values.temperature,this.handleWindChange(),t.abrupt("return");case 18:return t.next=20,new Promise((function(t,e){navigator.geolocation.getCurrentPosition(t,e)}));case 20:return o=t.sent,a=o.coords,c=a.latitude,s=a.longitude,l="https://api.tomorrow.io/v4/weather/realtime?location=".concat(c,",").concat(s,"&units=imperial&apikey=jG9onLuVeiR4NWlVIO85EWWLCtQ2Uzqv"),t.next=25,fetch(l);case 25:if((u=t.sent).ok){t.next=28;break}throw new Error("Weather data fetch failed");case 28:return t.next=30,u.json();case 30:d=t.sent,console.log("Weather data fetched:",d),this.windSpeedInput&&(this.windSpeedInput.value=Math.round(d.data.values.windSpeed)),this.windAngleInput&&(this.windAngleInput.value=d.data.values.windDirection),this.windSpeedDisplay&&(this.windSpeedDisplay.textContent="".concat(Math.round(d.data.values.windSpeed)," mph")),this.windDirectionDisplay&&(this.windDirectionDisplay.textContent=this.getDirectionLabel(d.data.values.windDirection)),this.lastUpdatedDisplay&&(this.lastUpdatedDisplay.textContent="Updated: ".concat((new Date).toLocaleTimeString())),this.currentTemperature=d.data.values.temperature,this.handleWindChange(),t.next=45;break;case 41:t.prev=41,t.t0=t.catch(0),console.error("Error fetching weather data:",t.t0),this.updateWithMockData();case 45:case"end":return t.stop()}}),t,this,[[0,41]])})),o=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function c(t){a(i,r,o,c,s,"next",t)}function s(t){a(i,r,o,c,s,"throw",t)}c(void 0)}))},function(){return o.apply(this,arguments)})},{key:"updateWithMockData",value:function(){console.log("Using mock data..."),this.currentTemperature=70,this.windSpeedInput&&(this.windSpeedInput.value=10),this.windAngleInput&&(this.windAngleInput.value=45),this.windSpeedDisplay&&(this.windSpeedDisplay.textContent="".concat(10," mph")),this.windDirectionDisplay&&(this.windDirectionDisplay.textContent=this.getDirectionLabel(45)),this.lastUpdatedDisplay&&(this.lastUpdatedDisplay.textContent="Using mock data"),this.handleWindChange()}},{key:"getCachedWeather",value:function(){try{var t=localStorage.getItem("weatherData");if(!t)return console.log("No cached weather data found"),null;var e=JSON.parse(t),n=e.data,r=e.timestamp,o=Date.now()-r,i=18e5;return o>=i?(console.log("Weather cache expired:",{cacheAge:Math.round(o/1e3/60)+" minutes",timeout:Math.round(30)+" minutes"}),localStorage.removeItem("weatherData"),null):(console.log("Using cached weather data:",{data:n,cacheAge:Math.round(o/1e3/60)+" minutes",expiresIn:Math.round((i-o)/1e3/60)+" minutes"}),n)}catch(t){return console.error("Error reading weather cache:",t),localStorage.removeItem("weatherData"),null}}},{key:"getDirectionLabel",value:function(t){return["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][Math.round(t/22.5)%16]}},{key:"handleWindChange",value:function(){console.log("Wind changed, updating shot path..."),this.updateShotPath()}}],e&&c(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,o}();document.addEventListener("DOMContentLoaded",(function(){console.log("DOM loaded, initializing WindCalculator..."),new l}));const u=l}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var r=n(351);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(){i=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},c="function"==typeof Symbol?Symbol:{},s=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",u=c.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var o=e&&e.prototype instanceof w?e:w,i=Object.create(o.prototype),c=new P(r||[]);return a(i,"_invoke",{value:L(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var p="suspendedStart",m="suspendedYield",v="executing",y="completed",g={};function w(){}function E(){}function b(){}var x={};d(x,s,(function(){return this}));var I=Object.getPrototypeOf,S=I&&I(I(T([])));S&&S!==n&&r.call(S,s)&&(x=S);var D=b.prototype=w.prototype=Object.create(x);function C(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function W(t,e){function n(i,a,c,s){var l=f(t[i],t,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==o(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,c,s)}),(function(t){n("throw",t,c,s)})):e.resolve(d).then((function(t){u.value=t,c(u)}),(function(t){return n("throw",t,c,s)}))}s(l.arg)}var i;a(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function L(e,n,r){var o=p;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var s=M(c,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?y:m,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function M(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,M(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(o(e)+" is not iterable")}return E.prototype=b,a(D,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:E,configurable:!0}),E.displayName=d(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===E||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,d(t,u,"GeneratorFunction")),t.prototype=Object.create(D),t},e.awrap=function(t){return{__await:t}},C(W.prototype),d(W.prototype,l,(function(){return this})),e.AsyncIterator=W,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new W(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(D),d(D,u,"Generator"),d(D,s,(function(){return this})),d(D,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function c(t){var e=function(t){if("object"!=o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],s=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,c,"next",t)}function c(t){u(i,r,o,a,c,"throw",t)}a(void 0)}))}}"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/service-worker.js").then((function(t){console.log("ServiceWorker registration successful")})).catch((function(t){console.log("ServiceWorker registration failed: ",t)}))}));var h=new Worker("calculations-worker.js",{type:"module"}),f=new Map;function p(t){return new Promise((function(e,n){var r=Date.now().toString();m(!0),f.set(r,{resolve:e,reject:n}),h.postMessage({conditions:t,id:r})}))}function m(t){var e=document.getElementById("loading-indicator");e&&(e.style.display=t?"block":"none"),document.querySelectorAll(".input-field").forEach((function(e){e.disabled=t}))}new Map,h.onmessage=function(t){var e=t.data,n=e.results,r=e.id,o=e.error,i=e.cached,a=f.get(r);a&&(o?a.reject(new Error(o)):(i||m(!1),a.resolve(n)),f.delete(r))},h.onerror=function(t){console.error("Worker error:",t),m(!1),I("Calculation error occurred. Please try again.")};var v,y={altitude:document.getElementById("altitude"),humidity:document.getElementById("humidity"),temperature:document.getElementById("temperature"),windSpeed:document.getElementById("wind-speed"),windDirection:document.getElementById("wind-direction"),shotHeight:document.getElementById("shot-height"),clubs:document.getElementById("clubs"),environmentalEffect:document.getElementById("environmental-effect"),shotChart:document.getElementById("shotChart"),windDistanceEffect:document.getElementById("windDistanceEffect"),windLateralEffect:document.getElementById("windLateralEffect"),maxHeight:document.getElementById("maxHeight"),landingAngle:document.getElementById("landingAngle"),finalCarry:document.getElementById("finalCarry"),finalTotal:document.getElementById("finalTotal"),loadingIndicator:document.getElementById("loading-indicator")};function g(){return w.apply(this,arguments)}function w(){return(w=d(i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(x()){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,e={temperature:parseFloat(y.temperature.value),humidity:parseFloat(y.humidity.value),altitude:parseFloat(y.altitude.value),windSpeed:parseFloat(y.windSpeed.value),windDirection:y.windDirection.value,shotHeight:y.shotHeight.value},localStorage.setItem("lastConditions",JSON.stringify(e)),t.next=7,p(e);case 7:b(n=t.sent),r=n.trajectory,v&&(v.data.datasets[0].data=r.points.map((function(t){return{x:t.x,y:t.y}})),v.update()),E(n),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(2),console.error("Calculation error:",t.t0),I(t.t0.message);case 17:case"end":return t.stop()}var r}),t,null,[[2,13]])})))).apply(this,arguments)}function E(t){if(y.environmentalEffect){var e=(100*(t.factor-1)).toFixed(1),n=t.factor>1?"increase":"decrease",r='\n        <div class="font-medium mb-2">Environmental Effects:</div>\n        <div class="grid grid-cols-2 gap-4">\n            <div>\n                <h3 class="font-medium">Conditions:</h3>\n                <ul class="space-y-1">\n                    <li>Temperature: '.concat(t.components.temperature,"°F</li>\n                    <li>Humidity: ").concat(t.components.humidity,"%</li>\n                    <li>Altitude: ").concat(t.components.altitude,"ft</li>\n                    <li>Wind: ").concat(t.components.windSpeed,"mph ").concat(t.components.windDirection,'</li>\n                </ul>\n            </div>\n            <div>\n                <h3 class="font-medium">Adjustments:</h3>\n                <ul class="space-y-1">\n                    <li>Air Density: ').concat((100*t.components.airDensity-100).toFixed(1),"%</li>\n                    <li>Wind Effect: ").concat((100*t.components.wind.distanceEffect).toFixed(1),"%</li>\n                    <li>Total: ").concat(Math.abs(e),"% ").concat(n,"</li>\n                </ul>\n            </div>\n        </div>\n    ");y.environmentalEffect.innerHTML=r}}function b(t){if(t&&(y.windDistanceEffect&&(y.windDistanceEffect.textContent="".concat(t.windEffect.distanceEffect>0?"+":"").concat((100*t.windEffect.distanceEffect).toFixed(1),"%")),y.windLateralEffect&&(y.windLateralEffect.textContent="".concat(t.windEffect.lateralEffect>0?"Right ":"Left ").concat(Math.abs(Math.round(t.carryDistance*t.windEffect.lateralEffect))," yards")),y.maxHeight&&(y.maxHeight.textContent="".concat(Math.round(t.maxHeight)," feet")),y.landingAngle&&(y.landingAngle.textContent="".concat(Math.round(t.landingAngle),"°")),y.finalCarry&&(y.finalCarry.textContent="".concat(Math.round(t.carryDistance)," yards")),y.finalTotal)){var e=Math.round(t.carryDistance*(1+(t.rollout||0)));y.finalTotal.textContent="".concat(e," yards")}}function x(){var t=!0;return Object.entries({temperature:{min:-50,max:120,message:"Temperature must be between -50°F and 120°F"},humidity:{min:0,max:100,message:"Humidity must be between 0% and 100%"},altitude:{min:-1e3,max:15e3,message:"Altitude must be between -1000ft and 15000ft"},windSpeed:{min:0,max:50,message:"Wind speed must be between 0mph and 50mph"}}).forEach((function(e){var n=s(e,2),r=n[0],o=n[1],i=y[r];if(i){var a=parseFloat(i.value);isNaN(a)||a<o.min||a>o.max?(I(o.message),i.classList.add("error"),t=!1):i.classList.remove("error")}})),t}function I(t){alert(t)}document.addEventListener("DOMContentLoaded",(function(){!function(){if(y.shotChart){var t=y.shotChart.getContext("2d");v=new Chart(t,{type:"scatter",data:{datasets:[{label:"Shot Trajectory",data:[],borderColor:"rgb(14, 165, 233)",backgroundColor:"rgba(14, 165, 233, 0.5)",showLine:!0,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{type:"linear",position:"bottom",title:{display:!0,text:"Distance (yards)"}},y:{title:{display:!0,text:"Height (yards)"}}}}})}}(),function(){document.querySelectorAll(".input-field").forEach((function(t){var e,n;t.addEventListener("change",(e=g,function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];clearTimeout(n),n=setTimeout((function(){clearTimeout(n),e.apply(void 0,r)}),500)}))}));var t=document.getElementById("get-weather");t&&t.addEventListener("click",getCurrentWeather)}(),function(){var t=localStorage.getItem("lastConditions");if(t){var e=JSON.parse(t);Object.entries(e).forEach((function(t){var e=s(t,2),n=e[0],r=e[1],o=y[n];o&&(o.value=r)})),g()}}(),window.location.pathname.includes("wind.html")&&new r.A,window.golfApp=new S}));var S=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.clubs=[{name:"Driver",distance:260},{name:"3-Wood",distance:230},{name:"5-Wood",distance:210},{name:"4-Iron",distance:190},{name:"5-Iron",distance:180},{name:"6-Iron",distance:170},{name:"7-Iron",distance:160},{name:"8-Iron",distance:150},{name:"9-Iron",distance:140},{name:"PW",distance:130},{name:"GW",distance:120},{name:"SW",distance:110},{name:"LW",distance:90}],this.recentCalculations=[],this.initializeApp()},e=[{key:"initializeApp",value:function(){this.renderClubs(),this.fetchWeather(),this.setupEventListeners(),this.loadRecentCalculations()}},{key:"renderClubs",value:function(){var t=document.getElementById("club-list");t&&(t.innerHTML=this.clubs.map((function(t){return'\n            <div class="flex justify-between items-center p-3 bg-gray-700/50 rounded-xl">\n                <span class="text-gray-200">'.concat(t.name,'</span>\n                <span class="text-green-400">').concat(t.distance," yards</span>\n            </div>\n        ")})).join(""))}},{key:"fetchWeather",value:(n=d(i().mark((function t(){var e,n,r,o,a,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e="37.7749",n="-122.4194",t.prev=3,!navigator.geolocation){t.next=10;break}return t.next=7,new Promise((function(t,e){navigator.geolocation.getCurrentPosition(t,e)}));case 7:r=t.sent,e=r.coords.latitude,n=r.coords.longitude;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),console.warn("Using default location:",t.t0);case 15:if(o="YOUR_OPENWEATHER_API_KEY"){t.next=18;break}throw new Error("Weather API key not configured");case 18:return t.next=20,fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(n,"&appid=").concat(o,"&units=imperial"));case 20:if((a=t.sent).ok){t.next=23;break}throw new Error("Weather data fetch failed");case 23:return t.next=25,a.json();case 25:c=t.sent,this.updateWeatherDisplay(c),t.next=33;break;case 29:t.prev=29,t.t1=t.catch(0),console.error("Error fetching weather:",t.t1),this.updateWithMockWeather();case 33:case"end":return t.stop()}}),t,this,[[0,29],[3,12]])}))),function(){return n.apply(this,arguments)})},{key:"updateWeatherDisplay",value:function(t){var e=document.getElementById("current-wind");e&&(e.textContent="".concat(Math.round(t.wind.speed)," mph ").concat(this.getWindDirection(t.wind.deg)));var n=document.getElementById("temperature"),r=document.getElementById("wind"),o=document.getElementById("humidity"),i=document.getElementById("pressure");n&&(n.textContent="".concat(Math.round(t.main.temp),"°F")),r&&(r.textContent="".concat(Math.round(t.wind.speed)," mph")),o&&(o.textContent="".concat(t.main.humidity,"%")),i&&(i.textContent="".concat(t.main.pressure," hPa"))}},{key:"updateWithMockWeather",value:function(){this.updateWeatherDisplay({main:{temp:72,humidity:65,pressure:1013},wind:{speed:10,deg:45}})}},{key:"getWindDirection",value:function(t){return["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][Math.round(t%360/22.5)%16]}},{key:"addClub",value:function(){var t=prompt("Enter club name:"),e=parseInt(prompt("Enter typical distance (yards):"));t&&!isNaN(e)&&(this.clubs.push({name:t,distance:e}),this.renderClubs(),this.saveClubs())}},{key:"saveClubs",value:function(){localStorage.setItem("golfClubs",JSON.stringify(this.clubs))}},{key:"loadClubs",value:function(){var t=localStorage.getItem("golfClubs");t&&(this.clubs=JSON.parse(t),this.renderClubs())}},{key:"addRecentCalculation",value:function(t){this.recentCalculations.unshift(t),this.recentCalculations.length>5&&this.recentCalculations.pop(),this.renderRecentCalculations(),this.saveRecentCalculations()}},{key:"renderRecentCalculations",value:function(){var t=document.getElementById("recent-calcs");t&&(t.innerHTML=this.recentCalculations.length?this.recentCalculations.map((function(t){return'\n                <div class="flex justify-between items-center p-4 bg-gray-700/50 rounded-xl">\n                    <div>\n                        <div class="text-white">'.concat(t.club," • ").concat(t.distance,' yards</div>\n                        <div class="text-sm text-gray-400">Wind: ').concat(t.wind," mph ").concat(t.direction,'</div>\n                    </div>\n                    <div class="text-green-400">').concat(t.adjustment,"</div>\n                </div>\n            ")})).join(""):'<div class="text-gray-400 text-center p-4">No recent calculations</div>')}},{key:"saveRecentCalculations",value:function(){localStorage.setItem("recentCalculations",JSON.stringify(this.recentCalculations))}},{key:"loadRecentCalculations",value:function(){var t=localStorage.getItem("recentCalculations");t&&(this.recentCalculations=JSON.parse(t),this.renderRecentCalculations())}},{key:"setupEventListeners",value:function(){var t=this;window.addClub=function(){return t.addClub()},window.refreshWeather=function(){return t.fetchWeather()}}}],e&&a(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("get-weather"),e=document.getElementById("weather-display"),n=document.getElementById("last-updated"),r=document.getElementById("temperature"),o=document.getElementById("wind"),a=document.getElementById("humidity"),c=document.getElementById("pressure");function s(t){var e={data:t,timestamp:(new Date).getTime(),expiresIn:18e5};localStorage.setItem("weatherData",JSON.stringify(e))}function l(){var t=localStorage.getItem("weatherData");if(!t)return null;var e=JSON.parse(t);return(new Date).getTime()-e.timestamp>e.expiresIn?(localStorage.removeItem("weatherData"),null):e.data}function u(t){var i;r.textContent="".concat(Math.round(t.values.temperature),"°F"),o.textContent="".concat(Math.round(t.values.windSpeed)," mph ").concat((i=t.values.windDirection,["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][Math.round(i/22.5)%16])),a.textContent="".concat(Math.round(t.values.humidity),"%"),c.textContent="".concat(Math.round(t.values.pressureSurfaceLevel)," hPa"),e.classList.remove("hidden");var s=new Date(t.time||new Date).toLocaleTimeString();n.textContent="Updated ".concat(s)}function h(){return(h=d(i().mark((function e(){var n,r,o,a,c,d,h,f,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(n=l())){e.next=6;break}return console.log("Using cached weather data"),u(n),e.abrupt("return");case 6:return t.disabled=!0,t.innerHTML='<i class="fas fa-spinner fa-spin"></i> Loading...',e.next=10,new Promise((function(t,e){navigator.geolocation.getCurrentPosition(t,e)}));case 10:return r=e.sent,o=r.coords,a=o.latitude,c=o.longitude,console.log("Location:",{latitude:a,longitude:c}),d="https://api.tomorrow.io/v4/weather/realtime?location=".concat(a,",").concat(c,"&units=imperial&apikey=jG9onLuVeiR4NWlVIO85EWWLCtQ2Uzqv"),console.log("API URL:",d),e.next=17,fetch(d);case 17:if(h=e.sent,console.log("Response status:",h.status),h.ok){e.next=25;break}return e.next=22,h.text();case 22:throw f=e.sent,console.error("API Error:",f),new Error("Weather API request failed: ".concat(h.status," ").concat(f));case 25:return e.next=27,h.json();case 27:p=e.sent,console.log("API Response:",p),s(p.data),u(p.data),e.next=37;break;case 33:e.prev=33,e.t0=e.catch(0),console.error("Detailed error:",e.t0),i="Unable to fetch weather data: ".concat(e.t0.message),alert(i);case 37:return e.prev=37,t.disabled=!1,t.innerHTML='<i class="fas fa-location-arrow"></i> Get Current Weather',e.finish(37);case 41:case"end":return e.stop()}var i}),e,null,[[0,33,37,41]])})))).apply(this,arguments)}if(t){t.addEventListener("click",(function(){return h.apply(this,arguments)}));var f=l();f&&u(f)}}))})();