/*! For license information please see wind.bundle.js.LICENSE.txt */
(()=>{"use strict";function t(){var t=Number(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)||0,e=.045*Math.log(t/1e3+1),n=0;t>2e3&&(n+=(t-2e3)/12e4),t>4e3&&(n+=(t-4e3)/11e4),t>6e3&&(n+=(t-6e3)/1e5);var i=Math.exp(-t/3e4);return{total:1+1.15*(e+n)*i,components:{base:e,progressive:n,spin:Math.min(t/12e4,.065),density:i,empirical:1.15}}}function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function n(){n=function(){return i};var t,i={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",h=s.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function d(t,e,n,i){var r=e&&e.prototype instanceof w?e:w,o=Object.create(r.prototype),s=new P(i||[]);return a(o,"_invoke",{value:N(t,n,s)}),o}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}i.wrap=d;var f="suspendedStart",v="suspendedYield",m="executing",g="completed",y={};function w(){}function x(){}function E(){}var b={};u(b,c,(function(){return this}));var D=Object.getPrototypeOf,I=D&&D(D(T([])));I&&I!==r&&o.call(I,c)&&(b=I);var S=E.prototype=w.prototype=Object.create(b);function M(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function W(t,n){function i(r,a,s,c){var l=p(t[r],t,a);if("throw"!==l.type){var h=l.arg,u=h.value;return u&&"object"==e(u)&&o.call(u,"__await")?n.resolve(u.__await).then((function(t){i("next",t,s,c)}),(function(t){i("throw",t,s,c)})):n.resolve(u).then((function(t){h.value=t,s(h)}),(function(t){return i("throw",t,s,c)}))}c(l.arg)}var r;a(this,"_invoke",{value:function(t,e){function o(){return new n((function(n,r){i(t,e,n,r)}))}return r=r?r.then(o,o):o()}})}function N(e,n,i){var r=f;return function(o,a){if(r===m)throw Error("Generator is already running");if(r===g){if("throw"===o)throw a;return{value:t,done:!0}}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var c=C(s,i);if(c){if(c===y)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===f)throw r=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=m;var l=p(e,n,i);if("normal"===l.type){if(r=i.done?g:v,l.arg===y)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r=g,i.method="throw",i.arg=l.arg)}}}function C(e,n){var i=n.method,r=e.iterator[i];if(r===t)return n.delegate=null,"throw"===i&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),y;var o=p(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function T(n){if(n||""===n){var i=n[c];if(i)return i.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var r=-1,a=function e(){for(;++r<n.length;)if(o.call(n,r))return e.value=n[r],e.done=!1,e;return e.value=t,e.done=!0,e};return a.next=a}}throw new TypeError(e(n)+" is not iterable")}return x.prototype=E,a(S,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:x,configurable:!0}),x.displayName=u(E,h,"GeneratorFunction"),i.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,u(t,h,"GeneratorFunction")),t.prototype=Object.create(S),t},i.awrap=function(t){return{__await:t}},M(W.prototype),u(W.prototype,l,(function(){return this})),i.AsyncIterator=W,i.async=function(t,e,n,r,o){void 0===o&&(o=Promise);var a=new W(d(t,e,n,r),o);return i.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},M(S),u(S,h,"Generator"),u(S,c,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),i.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},i.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;k(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:T(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),y}},i}function i(t,e,n,i,r,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(i,r)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,o(i.key),i)}}function o(t){var n=function(t){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:n+""}console.log("Running Core Calculation Tests...\n"),console.log("=== Wind Effect Tests ==="),[{speed:10,dir:"N",desc:"10mph headwind"},{speed:10,dir:"S",desc:"10mph tailwind"},{speed:15,dir:"E",desc:"15mph crosswind"}].forEach((function(t){var e=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"medium",i=Math.abs(Number(t)||0),r={low:.65,medium:1,high:1.35}[n]||1;"low"===n&&i>10&&(r*=1-.015*(i-10));var o=function(t){return{N:0,NNE:22.5,NE:45,ENE:67.5,E:90,ESE:112.5,SE:135,SSE:157.5,S:180,SSW:202.5,SW:225,WSW:247.5,W:270,WNW:292.5,NW:315,NNW:337.5}[t]||0}(e),a=Math.cos(o*Math.PI/180)*i,s=Math.sin(o*Math.PI/180)*i,c=Math.pow(Math.abs(a),.92),l=Math.pow(Math.abs(s),.92),h=1,u=1;return Math.abs(a)>10&&(h=1+.02*(Math.abs(a)-10)),Math.abs(s)>10&&(u=1+.015*(Math.abs(s)-10)),{distanceEffect:-Math.sign(a)*c*.0078*r*h,lateralEffect:Math.sign(s)*l*.0052*r*u}}(t.speed,t.dir);console.log("\n".concat(t.desc,":")),console.log("Distance Effect: ".concat((100*e.distanceEffect).toFixed(1),"%")),console.log("Lateral Effect: ".concat((100*e.lateralEffect).toFixed(1),"%"))})),console.log("\n=== Altitude Effect Tests ==="),[{alt:0,desc:"Sea Level"},{alt:5280,desc:"Denver"},{alt:7350,desc:"Mexico City"}].forEach((function(e){var n=t(e.alt);console.log("\n".concat(e.desc," (").concat(e.alt,"ft):")),console.log("Total Effect: ".concat((100*(n.total-1)).toFixed(1),"%")),console.log("Components:",n.components)})),console.log("\n=== Air Density Tests ==="),[{temp:59,pressure:29.92,humidity:50,desc:"Standard Conditions"},{temp:90,pressure:29.92,humidity:80,desc:"Hot & Humid"},{temp:30,pressure:29.92,humidity:20,desc:"Cold & Dry"}].forEach((function(t){var e,n,i,r,o=(n=((e=t).temp||59)+459.67,i=59+459.67,r=Math.pow((e.pressure||29.92)/29.92,.45)*Math.pow(i/n,.5)*(1-((e.humidity||50)-50)/100*.008),Math.pow(r,1));console.log("\n".concat(t.desc,":")),console.log("Density Ratio: ".concat(o.toFixed(3)))}));var a=function(){return e=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),console.log("Initializing WindCalculator..."),this.initializeElements(),this.setupChart(),this.setupEventListeners(),this.fetchWeatherData()},o=[{key:"initializeElements",value:function(){console.log("Initializing elements..."),this.windSpeedInput=document.getElementById("wind-speed"),this.windAngleInput=document.getElementById("wind-angle"),this.shotDistanceInput=document.getElementById("shot-distance"),this.shotHeightInput=document.getElementById("shot-height"),this.shotDirectionInput=document.getElementById("shot-direction"),this.windSpeedDisplay=document.getElementById("current-wind-speed"),this.windDirectionDisplay=document.getElementById("current-wind-direction"),this.lastUpdatedDisplay=document.getElementById("last-updated"),this.adjustedDistanceDisplay=document.getElementById("adjusted-distance"),this.distanceEffectDisplay=document.getElementById("distance-effect"),this.tempEffectDisplay=document.getElementById("temp-effect"),this.lateralEffectDisplay=document.getElementById("lateral-effect"),this.canvas=document.getElementById("shot-chart"),this.canvas?(this.ctx=this.canvas.getContext("2d"),console.log("Elements initialized:",{windSpeedInput:!!this.windSpeedInput,windAngleInput:!!this.windAngleInput,shotDistanceInput:!!this.shotDistanceInput,shotHeightInput:!!this.shotHeightInput,shotDirectionInput:!!this.shotDirectionInput,canvas:!!this.canvas})):console.error("Shot chart canvas not found")}},{key:"setupChart",value:function(){this.ctx?(this.canvas.width=400,this.canvas.height=400,this.drawChart()):console.error("Chart context not available")}},{key:"setupEventListeners",value:function(){var t=this;console.log("Setting up event listeners..."),[this.windSpeedInput,this.windAngleInput,this.shotDistanceInput,this.shotHeightInput,this.shotDirectionInput].forEach((function(e,n){e?e.addEventListener("input",(function(){console.log("Input changed: ".concat(e.id)),t.handleWindChange()})):console.error("Input element at index ".concat(n," not found"))}));var e=document.getElementById("refresh-weather");e?e.addEventListener("click",(function(){console.log("Refresh button clicked"),t.fetchWeatherData()})):console.error("Refresh button not found")}},{key:"drawChart",value:function(){if(this.ctx){if(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.beginPath(),this.ctx.arc(200,200,180,0,2*Math.PI),this.ctx.strokeStyle="#ccc",this.ctx.stroke(),this.drawCompassPoint("N",200,20),this.drawCompassPoint("E",380,200),this.drawCompassPoint("S",200,380),this.drawCompassPoint("W",20,200),this.windSpeedInput&&this.windAngleInput){var t=parseFloat(this.windSpeedInput.value)||0,e=parseFloat(this.windAngleInput.value)||0;this.drawWindVector(t,e)}if(this.shotDistanceInput&&this.shotDirectionInput){var n=parseFloat(this.shotDistanceInput.value)||0,i=parseFloat(this.shotDirectionInput.value)||0;this.drawShotVector(n,i)}}}},{key:"drawCompassPoint",value:function(t,e,n){this.ctx&&(this.ctx.font="14px Arial",this.ctx.fillStyle="#666",this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillText(t,e,n))}},{key:"drawWindVector",value:function(t,e){if(this.ctx){console.log("Drawing wind vector:",{speed:t,angle:e});var n=(e-90)*(Math.PI/180),i=Math.min(5*t,150),r=200+i*Math.cos(n),o=200+i*Math.sin(n);this.ctx.beginPath(),this.ctx.moveTo(200,200),this.ctx.lineTo(r,o),this.ctx.strokeStyle="blue",this.ctx.lineWidth=2,this.ctx.stroke();var a=n-Math.PI/6,s=n+Math.PI/6;this.ctx.beginPath(),this.ctx.moveTo(r,o),this.ctx.lineTo(r-10*Math.cos(a),o-10*Math.sin(a)),this.ctx.moveTo(r,o),this.ctx.lineTo(r-10*Math.cos(s),o-10*Math.sin(s)),this.ctx.stroke()}}},{key:"drawShotVector",value:function(t,e){if(this.ctx){console.log("Drawing shot vector:",{distance:t,direction:e});var n=(e-90)*(Math.PI/180),i=Math.min(t/2,150),r=200+i*Math.cos(n),o=200+i*Math.sin(n);this.ctx.beginPath(),this.ctx.moveTo(200,200),this.ctx.lineTo(r,o),this.ctx.strokeStyle="red",this.ctx.lineWidth=2,this.ctx.stroke();var a=n-Math.PI/6,s=n+Math.PI/6;this.ctx.beginPath(),this.ctx.moveTo(r,o),this.ctx.lineTo(r-10*Math.cos(a),o-10*Math.sin(a)),this.ctx.moveTo(r,o),this.ctx.lineTo(r-10*Math.cos(s),o-10*Math.sin(s)),this.ctx.stroke()}}},{key:"updateShotPath",value:function(){var e,n,i,r,o,a,s,c,l;if(console.log("Updating shot path..."),this.ctx){var h=parseFloat(null===(e=this.windSpeedInput)||void 0===e?void 0:e.value)||0,u=parseFloat(null===(n=this.windAngleInput)||void 0===n?void 0:n.value)||0,d=parseFloat(null===(i=this.shotDistanceInput)||void 0===i?void 0:i.value)||0,p=parseFloat(null===(r=this.shotHeightInput)||void 0===r?void 0:r.value)||0,f=parseFloat(null===(o=this.shotDirectionInput)||void 0===o?void 0:o.value)||0;console.log("Input values:",{windSpeed:h,windDirection:u,shotDistance:d,shotHeight:p,shotDirection:f});var v=this.getCachedWeather(),m=(null==v||null===(a=v.values)||void 0===a?void 0:a.temperature)||70,g=(null==v||null===(s=v.values)||void 0===s?void 0:s.pressureSeaLevel)||29.92,y=(null==v||null===(c=v.values)||void 0===c?void 0:c.humidity)||0,w=(null==v||null===(l=v.values)||void 0===l?void 0:l.altitude)||0,x=function(t,e,n){if("number"!=typeof t||isNaN(t))throw console.error("Invalid wind speed:",t),new Error("Wind speed must be a valid number");if("number"!=typeof e||isNaN(e))throw console.error("Invalid wind direction:",e),new Error("Wind direction must be a valid number");if(e<0||e>360)throw console.error("Wind direction out of range:",e),new Error("Wind direction must be between 0 and 360 degrees");if("number"!=typeof n||isNaN(n))throw console.error("Invalid shot height:",n),new Error("Shot height must be a valid number");if(t<0)throw console.error("Negative wind speed:",t),new Error("Wind speed must be non-negative");if(t>50)throw console.error("Wind speed too high:",t),new Error("Wind speed must not exceed 50 mph");if(n<=0)throw console.error("Invalid shot height:",n),new Error("Shot height must be non-negative");if(0===t)return console.log("Zero wind speed - no effect"),{distance:0,lateral:0};var i,r=e*Math.PI/180,o=-Math.cos(r),a=-Math.sin(r),s=1+n/100*.5;i=o>0?-o*t*.01*s:-o*t*.006*s;var c=a*t*.004*s,l=Number(Math.max(Math.min(i,.3),-.3).toFixed(6))||0,h=Number(Math.max(Math.min(c,.3),-.3).toFixed(6))||0;return console.log("Wind calculation results:",{windSpeed:t,windDirection:e,shotHeight:n,headwindComponent:o,crosswindComponent:a,heightFactor:s,distanceEffect:l,lateralEffect:h}),{distance:l,lateral:h}}(h,u,d),E=function(t,e,n){if("number"!=typeof t||isNaN(t))throw console.error("Invalid temperature value:",t),new Error("Temperature must be a valid number");if("number"!=typeof e||isNaN(e))throw console.error("Invalid pressure value:",e),new Error("Pressure must be a valid number");if("number"!=typeof n||isNaN(n))throw console.error("Invalid humidity value:",n),new Error("Humidity must be a valid number");if(t<-40||t>120)throw console.error("Temperature out of range:",t),new Error("Temperature must be between -40°F and 120°F");if(e<25||e>32)throw console.error("Pressure out of range:",e),new Error("Pressure must be between 25 and 32 inHg");if(n<0||n>100)throw console.error("Humidity out of range:",n),new Error("Humidity must be between 0% and 100%");if(59===t&&29.92===e&&0===n)return console.log("Standard conditions detected - returning 1.0"),1;var i=5/9*(t-32),r=6.11*Math.exp(17.27*i/(237.3+i))*(n/100),o=6.11*Math.exp(259.05/252.3)*0,a=33.8639*e,s=a-r,c=(28.964*s+18.016*r)/(8314.32*(i+273.15)),l=(28.964*(29.92*33.8639-o)+18.016*o)/(8314.32*288.15);return console.log("Air density calculation results:",{temperature:t,pressure:e,humidity:n,tempC:i,vaporPressure:r,pressureHPa:a,dryPressure:s,density:c,standardDensity:l,relativeDensity:c/l}),Number((c/l).toFixed(6))}(m,g,y),b=t(w),D=x.distance*d,I=x.lateral*d,S=(E-1)*d,M=(b.total-1)*d,W=Math.round(d+D+S+M);if(this.adjustedDistanceDisplay&&(this.adjustedDistanceDisplay.textContent="".concat(W," yards")),this.distanceEffectDisplay&&(this.distanceEffectDisplay.textContent="".concat(Math.round(D)," yards")),this.tempEffectDisplay&&(this.tempEffectDisplay.textContent="".concat(Math.round(S+M)," yards")),this.lateralEffectDisplay){var N=I>0?"right":"left";this.lateralEffectDisplay.textContent="".concat(Math.round(I)," yards ").concat(N)}this.drawChart()}else console.error("Chart not initialized")}},{key:"fetchWeatherData",value:(a=n().mark((function t(){var e,i,r,o,a,s,c,l,h,u;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,console.log("Fetching weather data..."),!(e=localStorage.getItem("weatherData"))){t.next=18;break}if(i=JSON.parse(e),(new Date).getTime()-i.timestamp>i.expiresIn){t.next=18;break}return console.log("Using cached weather data for wind calculations"),r=i.data,this.windSpeedInput&&(this.windSpeedInput.value=Math.round(r.values.windSpeed)),this.windAngleInput&&(this.windAngleInput.value=r.values.windDirection),this.windSpeedDisplay&&(this.windSpeedDisplay.textContent="".concat(Math.round(r.values.windSpeed)," mph")),this.windDirectionDisplay&&(this.windDirectionDisplay.textContent=this.getDirectionLabel(r.values.windDirection)),this.lastUpdatedDisplay&&(this.lastUpdatedDisplay.textContent="Updated: ".concat(new Date(i.timestamp).toLocaleTimeString())),this.currentTemperature=r.values.temperature,this.handleWindChange(),t.abrupt("return");case 18:return t.next=20,new Promise((function(t,e){navigator.geolocation.getCurrentPosition(t,e)}));case 20:return o=t.sent,a=o.coords,s=a.latitude,c=a.longitude,l="https://api.tomorrow.io/v4/weather/realtime?location=".concat(s,",").concat(c,"&units=imperial&apikey=jG9onLuVeiR4NWlVIO85EWWLCtQ2Uzqv"),t.next=25,fetch(l);case 25:if((h=t.sent).ok){t.next=28;break}throw new Error("Weather data fetch failed");case 28:return t.next=30,h.json();case 30:u=t.sent,console.log("Weather data fetched:",u),this.windSpeedInput&&(this.windSpeedInput.value=Math.round(u.data.values.windSpeed)),this.windAngleInput&&(this.windAngleInput.value=u.data.values.windDirection),this.windSpeedDisplay&&(this.windSpeedDisplay.textContent="".concat(Math.round(u.data.values.windSpeed)," mph")),this.windDirectionDisplay&&(this.windDirectionDisplay.textContent=this.getDirectionLabel(u.data.values.windDirection)),this.lastUpdatedDisplay&&(this.lastUpdatedDisplay.textContent="Updated: ".concat((new Date).toLocaleTimeString())),this.currentTemperature=u.data.values.temperature,this.handleWindChange(),t.next=45;break;case 41:t.prev=41,t.t0=t.catch(0),console.error("Error fetching weather data:",t.t0),this.updateWithMockData();case 45:case"end":return t.stop()}}),t,this,[[0,41]])})),s=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=a.apply(t,e);function s(t){i(o,n,r,s,c,"next",t)}function c(t){i(o,n,r,s,c,"throw",t)}s(void 0)}))},function(){return s.apply(this,arguments)})},{key:"updateWithMockData",value:function(){console.log("Using mock data..."),this.currentTemperature=70,this.windSpeedInput&&(this.windSpeedInput.value=10),this.windAngleInput&&(this.windAngleInput.value=45),this.windSpeedDisplay&&(this.windSpeedDisplay.textContent="".concat(10," mph")),this.windDirectionDisplay&&(this.windDirectionDisplay.textContent=this.getDirectionLabel(45)),this.lastUpdatedDisplay&&(this.lastUpdatedDisplay.textContent="Using mock data"),this.handleWindChange()}},{key:"getCachedWeather",value:function(){try{var t=localStorage.getItem("weatherData");if(!t)return console.log("No cached weather data found"),null;var e=JSON.parse(t),n=e.data,i=e.timestamp,r=Date.now()-i,o=18e5;return r>=o?(console.log("Weather cache expired:",{cacheAge:Math.round(r/1e3/60)+" minutes",timeout:Math.round(30)+" minutes"}),localStorage.removeItem("weatherData"),null):(console.log("Using cached weather data:",{data:n,cacheAge:Math.round(r/1e3/60)+" minutes",expiresIn:Math.round((o-r)/1e3/60)+" minutes"}),n)}catch(t){return console.error("Error reading weather cache:",t),localStorage.removeItem("weatherData"),null}}},{key:"getDirectionLabel",value:function(t){return["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][Math.round(t/22.5)%16]}},{key:"handleWindChange",value:function(){console.log("Wind changed, updating shot path..."),this.updateShotPath()}}],o&&r(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,o,a,s}();document.addEventListener("DOMContentLoaded",(function(){console.log("DOM loaded, initializing WindCalculator..."),new a}))})();